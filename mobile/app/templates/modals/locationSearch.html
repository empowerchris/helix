<ion-modal-view ng-controller="LocationSearchCtrl">
  <ion-header-bar class="item-input-inset">
    <label class="item-input-wrapper">
      <i class="icon ion-search placeholder-icon"></i>
      <input type="search" ng-model="searchQuery"
             ng-click="selectedPlace = null;"
             style="width: 85%"
             ng-model-options="{debounce: 250}" placeholder="{{placeholder}}"/>
      <ion-spinner icon="dots" class="icon placeholder-icon loading-indicator" ng-show="loading"></ion-spinner>
    </label>

    <div class="ion-autocomplete-loading-icon" ng-if="showLoadingIcon">
      <ion-spinner icon="{{loadingIcon || 'ion-load-d'}}"></ion-spinner>
    </div>
    <button class="button button-clear button-positive" ng-click="cancel()">{{cancelLabel || 'Cancel'}}</button>
  </ion-header-bar>
  <ion-content class="light-bg">
    <!-- Default options -->
    <ion-list ng-if="!suggestions.length && !selectedPlace">
      <div class="card light-shadow packed-list">
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-ios-home" style="font-size: x-large"></i>

          <h3>Home</h3>

          <p>Address, County, State, USA</p>
        </div>
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-ios-star" style="font-size: x-large"></i>

          <h3>Work</h3>

          <p>Address, County, State, USA</p>
        </div>
      </div>
      <div class="card light-shadow packed-list">
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-ios-navigate-outline" style="font-size: x-large"></i>

          <h3>Current Location</h3>

          <p>Address, County, State, USA</p>
        </div>
      </div>
      <div class="card light-shadow packed-list">
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-location" style="font-size: x-large"></i>

          <h3>Location used before</h3>

          <p>Address, County, State, USA</p>
        </div>
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-location" style="font-size: x-large"></i>

          <h3>Location used before 2</h3>

          <p>Address, County, State, USA</p>
        </div>
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)">
          <i class="icon ion-location" style="font-size: x-large"></i>

          <h3>Location used before 3</h3>

          <p>Address, County, State, USA</p>
        </div>
      </div>
    </ion-list>

    <!-- Search results -->
    <ion-list ng-if="suggestions.length && !selectedPlace">
      <div class="card light-shadow packed-list">
        <div class="item item-text-wrap item-icon-left item-icon-left"
             ng-click="selectLocation(item)"
             ng-repeat="item in suggestions">
          <i class="icon ion-location" style="font-size: x-large"></i>
          <!--<h3>{{item.place_id}}</h3>-->
          <p>{{item.formatted_address}}</p>
        </div>
      </div>
    </ion-list>
    <div class="text-center" ng-if="suggestions.length && !selectedPlace">
      <img src="https://maps.gstatic.com/mapfiles/api-3/images/powered-by-google-on-white2.png"/>
      <br>
    </div>

    <!-- Edit place -->
    <ion-list ng-if="selectedPlace">
      <div class="card light-shadow packed-list">
        <div class="list">
          <label class="item item-input">
            <input type="text" ng-model="newAddress.address_1" placeholder="Address">
          </label>
          <label class="item item-input">
            <input type="text" ng-model="newAddress.postcode" placeholder="Postcode">
          </label>
          <label class="item item-input">
            <input type="text" ng-model="newAddress.city" placeholder="City">
          </label>
          <label class="item item-input">
            <input type="text" ng-model="newAddress.county" placeholder="County / State">
          </label>
          <label class="item item-input">
            <input type="text" ng-model="newAddress.country" placeholder="Country">
          </label>
        </div>
      </div>
      <div style="padding: 10px; padding-top: 0;">
        <button class="button button-block button-positive light-shadow bold"
                ng-click="cancel()">
          Save
        </button>
      </div>
    </ion-list>
  </ion-content>
</ion-modal-view>
